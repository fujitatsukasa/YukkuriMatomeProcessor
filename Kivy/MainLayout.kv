# MainLayout.kv
#:import SlideTransition kivy.uix.screenmanager.SlideTransition
#:import dp kivy.metrics.dp
#:import webbrowser webbrowser

<MainLayout>:
    ScreenManager:
        id: root_screen_manager
        transition: SlideTransition()

        # 認証用のスクリーン
        Screen:
            name: 'auth'

            # 認証用の ScreenManager
            ScreenManager:
                id: auth_screen_manager
                transition: SlideTransition()

                LoginScreen:
                    name: 'Login'

                RegisterScreen:
                    name: 'Register'

                ResetPasswordScreen:
                    name: 'ResetPassword'


        # メインアプリ用のスクリーン
        Screen:
            name: 'main'

            BoxLayout:
                orientation: 'horizontal'
                MDNavigationRail:
                    id: navigation_rail
                    type: "labeled"
                    elevation: 0
                    panel_color: app.theme_cls.primary_color
                    MDNavigationRailItem:
                        id: get_scripts
                        icon: "file-find-outline"
                        text: "台本取得"
                        selected: False
                        on_press:
                            root.ids.screen_manager.current = "GetScripts"

                    MDNavigationRailItem:
                        id: script_edit
                        icon: "movie-open-edit"
                        text: "台本編集"
                        selected: False
                        on_press:
                            root.ids.screen_manager.current = "ScriptEdit"

                    MDNavigationRailItem:
                        id: json_edit
                        icon: "file-edit-outline"
                        text: "台本設定"
                        selected: False
                        on_press:
                            root.ids.screen_manager.current = "JSONEdit"

                    MDNavigationRailItem:
                        id: app_config
                        icon: "cog-outline"
                        text: "設定"
                        selected: False
                        on_press:
                            root.ids.screen_manager.current = "AppConfig"

                    MDNavigationRailItem:
                        icon: "email"
                        text: "メール送信"
                        on_press:
                            webbrowser.open("mailto:fujita.otm@gmail.com")

                    MDNavigationRailItem:
                        icon: "アイコン/chatwork.png"
                        text: "Chatwork"
                        on_press:
                            webbrowser.open("https://www.chatwork.com/fujita_otm")

                    MDNavigationRailItem:
                        icon: "アイコン/discord.png"
                        text: "Discord"
                        on_press:
                            webbrowser.open("discordapp.com/users/762244902124912695")

                    MDNavigationRailItem:
                        icon: "twitter"
                        text: "Twitter"
                        on_press:
                            webbrowser.open("https://x.com/OTM_corp")

                    MDNavigationRailItem:
                        icon: "web"
                        text: "公式サイト"
                        on_press:
                            webbrowser.open("https://yukkurimatomeprocessor.com/index")

                ScreenManager:
                    id: screen_manager
                    transition: SlideTransition()

                    ScriptEdit:
                        name: 'ScriptEdit'

                    GetScripts:
                        name: 'GetScripts'

                    JSONEdit:
                        name: 'JSONEdit'

                    AppConfig:
                        name: 'AppConfig'

                    ShortcutConfig:
                        name: 'ショートカット変更'

                    VideoActionKey:
                        name: '動画出力時の動作キーの変更'



<HoverIconButton>:
<HoverLabel>:
<HoverCopyableLabel>:
<HoverTooltipLabel>